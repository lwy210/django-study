# ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ ì´í•´í•˜ê¸°
### `127.0.0.1:8000/pybo/` í™”ë©´
![image](https://github.com/lwy210/django-study/assets/33020581/50a6dfb3-9b82-4af3-96f0-b300ce9ed091)

<br>
<br>

### `pybo/urls.py`

```python
from django.urls import path

from . import views

app_name = 'pybo'

urlpatterns = [
    path('', views.index, name='index'),
    path('<int:question_id>/', views.detail, name='detail'),
    path('answer/create/<int:question_id>/', views.answer_create, name='answer_create'),
    path('question/create/', views.question_create, name='question_create'),
    path('pr/<int:pr_id>/', views.pr_index, name='pr_index'),
]
```
- **`path('', views.index, name='index'),`** : /pybo/ ê²½ë¡œ ì„¤ì •

<br>
<br>

### `question_list.html`

```html
{% extends 'base.html' %}
{% block content %}
<div class="container my-3">
    <table class="table">
        <thead>
        <tr class="table-dark">
            <th>ë²ˆí˜¸</th>
            <th>ì œëª©</th>
            <th>ì‘ì„±ì¼ì‹œ</th>
        </tr>
        </thead>
        <tbody>
        {% if question_list %}
        {% for question in question_list %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>
                <a href="{% url 'pybo:detail' question.id %}">{{ question.subject }}</a>
            </td>
            <td>{{ question.create_date }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="3">ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
    <a href="{% url 'pybo:question_create' %}" class="btn btn-primary">ì§ˆë¬¸ ë“±ë¡í•˜ê¸°</a>
</div>
{% endblock %}
```
- **`{% extends 'base.html' %} {% block content %} ~ {% endblock %}`** :  í…œí”Œë¦¿ ìƒì†
- **`{% if question_list %} ~ {% else %} ~ {% endif %}`** : ì§ˆë¬¸ì´ ìˆì„ ë•Œì™€ ì—†ì„ ë•Œ ì²˜ë¦¬
- **`{% for question in question_list %} ~ {% endfor %}`** : ì¡´ì¬í•˜ëŠ” ì§ˆë¬¸ ëª¨ë‘ ì¡°íšŒ


  - ğŸ’¡ question_listëŠ” ì–´ë””ì—ì„œ ì˜¨ê±¸ê¹Œ? â‡’ views.pyì—ì„œ contextë¡œ ì „ë‹¬ë°›ì•˜ë‹¤!
  ```python
  # pybo/views.py
  def index(request):
    question_list = Question.objects.order_by('-create_date')
    context = {'question_list': question_list }
    return render(request, 'pybo/question_list.html', context)
  ```
- **`<a href="{% url 'pybo:detail' question.id %}">{{ question.subject }}</a>`** : ì§ˆë¬¸ ìƒì„¸ ë³´ê¸° ë§í¬
   - ğŸ’¡ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ URL ë³„ì¹­ì´ ì ìš©ë˜ì—ˆë‹¤!
   - `"{% url 'pybo:detail' question.id %}"` ì—ì„œ **pybo**ëŠ” **ë„¤ì„ìŠ¤í˜ì´ìŠ¤** ì—­í• ì´ë‹¤.
      pybo/urls.pyì—ì„œ `app_name = 'pyboâ€™` ìœ¼ë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ì„¤ì •ë˜ì—ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ ì•±ê³¼ í˜¼ë™ë˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•¨ì´ë‹¤.
   - `"{% url 'pybo:detail' question.id %}"`ì—ì„œ **detailì€** **URL ë³„ì¹­**ì´ë‹¤. í•˜ê¸° ì½”ë“œì—ì„œ URL ë³„ì¹­ì´ ì‚¬ìš©ì„ ìœ„í•´ `name=â€™detailâ€™`ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
   ```python
   # pybo/urls.py
   urlpatterns = [
    path('', views.index, name='index'),
    path('<int:question_id>/', views.detail, name='detail'),
    path('answer/create/<int:question_id>/', views.answer_create, name='answer_create'),
    path('question/create/', views.question_create, name='question_create'),
    path('pr/<int:pr_id>/', views.pr_index, name='pr_index'),
    ]
   ```
   
   - "{% url 'pybo:detail' question.id %}" : detail í•¨ìˆ˜ì— ì¸ì í•œê°œ(question.id)ë¥¼ ì „ë‹¬í•œ ê²ƒê³¼ ê°™ë‹¤.
  
- **`<a href="{% url 'pybo:question_create' %}" class="btn btn-primary">ì§ˆë¬¸ ë“±ë¡í•˜ê¸°</a>`** : ì§ˆë¬¸ ë“±ë¡ ë²„íŠ¼


  - ì‚¬ìš©ë˜ëŠ” question_createëŠ” views.pyì— ìˆë‹¤. forms.ModelFormì„ ìƒì†í•œ QuestionFormì„ ì‚¬ìš©í•œë‹¤. 
  ```python
  # pybo/views.py
  def question_create(request):
    if request.method == 'POST':
        form = QuestionForm(request.POST)
        if form.is_valid():
            question = form.save(commit=False)
            question.create_date = timezone.now()
            question.save()
            return redirect('pybo:index')
    else:
        form = QuestionForm()
    context = {'form': form}
    return render(request, 'pybo/question_form.html', context)
  ```
  - question_createì—ì„œ ì‚¬ìš©í•œ QuestionFormëŠ” formspyì— ìˆë‹¤.
  ```python
  # pybo/forms.py
  from django import forms
  from pybo.models import Question, Answer

  class QuestionForm(forms.ModelForm):
      class Meta:
          model = Question  # ì‚¬ìš©í•  ëª¨ë¸
          fields = ['subject', 'content']  # QuestionFormì—ì„œ ì‚¬ìš©í•  Question ëª¨ë¸ì˜ ì†ì„±
          widgets = {
              'subject': forms.TextInput(attrs={'class': 'form-control'}),
              'content': forms.Textarea(attrs={'class': 'form-control', 'rows': 10}),
          }
          labels = {
              'subject': 'ì œëª©',
              'content': 'ë‚´ìš©',
          }
  ```
  - **â›” ì£¼ì˜í•  ì  :** ì—¬ê¸°ì—ì„œ ì‚¬ìš©ë˜ëŠ” columnsëª…ì—ì„œ ì˜¤íƒ€ê°€ ë‚˜ë©´ ì»´íŒŒì¼ì—ëŸ¬ë„ ë‚˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§¤ìš°ë§¤ìš° ì£¼ì˜í•´ì•¼í•œë‹¤!!!

<br>
<br>
